<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Roster</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/team_players.css') }}">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="{{ url_for('home') }}">Pitcher Perfect ‚öæ</a>
        <div class="ms-auto">
            <a href="{{ url_for('profile') }}">Edit Profile</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <a class="navbar-brand" href="#">Pitcher Perfect ‚öæ</a>
        <br><br><br><br>
        <a href="{{ url_for('home') }}">Team Details üèüÔ∏è</a>
        <a href="{{ url_for('team_PLayers') }}">Team Players</a>
        <a href="#">Team Comparision</a>
        <a href="#">Minor League players</a>
        <a href="#">Strategies</a>
    </div>
    <button class="toggle-btn" id="toggle-btn">></button>

    <!-- Main Content -->
    <div class="container">
        <h1>Team Players</h1>

        <h2>Active Players</h2>
        <ul class="player-list">
            {% for player in active_players %}
            <li class="player-card">
                <strong>{{ player.name }}</strong> ({{ player.position }}) - Status: {{ player.status }}<br>
                <img src="{{ player.headshot_url }}" alt="{{ player.name }}'s Headshot" class="player-image"><br>
                DOB: {{ player.dob }}<br>
                Height: {{ player.height }}<br>
                Weight: {{ player.weight }}<br>
                Bats: {{ player.batside }} | Pitches: {{ player.pitchside }}<br>
                Strike Zone: Top: {{ player.strike_zone_top }} | Bottom: {{ player.strike_zone_bottom }}<br>
                <button class="mh-test-btn">Game Fit Assessment</button>

            </li>
            {% endfor %} 
        </ul>
        

        <h2>Minor League Players</h2>
        <ul class="player-list">
            {% for player in minor_league_players %}
            <li class="player-card">
                <strong>{{ player.name }}</strong>
                ({{ player.position }}) - Status: {{ player.status }}
                <img src="{{ player.headshot_url }}" alt="{{ player.name }}'s Headshot" class="player-image"><br>
                DOB: {{ player.dob }}<br>
                Height: {{ player.height }}<br>
                Weight: {{ player.weight }}<br>
                Bats: {{ player.batside }} | Pitches: {{ player.pitchside }}<br>
                Strike Zone: Top: {{ player.strike_zone_top }} | Bottom: {{ player.strike_zone_bottom }}<br>
                <button class="mh-test-btn">Game Fit Assessment</button>
            </li>
            {% endfor %}
        </ul>
    </div>
</body>
<script>
    const toggleBtn = document.getElementById('toggle-btn');
    const sidebar = document.getElementById('sidebar');

    // Toggle sidebar visibility on button click
    toggleBtn.addEventListener('click', () => {
        sidebar.classList.toggle('active');
        // Change the toggle button text depending on the sidebar state
        toggleBtn.textContent = sidebar.classList.contains('active') ? '<' : '>';
    });

    // Close sidebar when clicking outside
    document.addEventListener('click', (event) => {
        if (!sidebar.contains(event.target) && !toggleBtn.contains(event.target)) {
            sidebar.classList.remove('active');
            toggleBtn.textContent = '>';
        }
    });
    document.querySelector('.mh-test-btn').addEventListener('click', function () {
        // Simulate the test result for now. You can replace this with actual logic.
        const score = 75; // Replace this with dynamic score calculation or fetch

        if (score) {
            document.getElementById('mh-score').textContent = `Score: ${score}`;
        } else {
            document.getElementById('mh-score').textContent = "NA";
        }
    });


</script>

</html>